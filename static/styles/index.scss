@use "sass:string";
@use "sass:math";

/* Property */
.dp-none {
    display: none !important;
}

/* Font */
%f_stack {
    font-family: Noto Sans TC;
    font-style: normal;
}
@mixin f_setLine($size: 1rem, $height: 1rem) {
    font-size: $size;
    line-height: $height;

}

/* Color */
$cyan_800: #448899;
$cyan_700: #66AABB;
$cyan_100: #AADDEE;
$gray_800: #666666;
$gray_700: #757575;
$gray_300: #E8E8E8;
$gray_50: #f8f8f8;

/* Size */
@mixin elsize($width: auto, $height: auto) {
    width: $width;
    height: $height;
}

/* Layout */
$cst_100vw: 100vw;

$content_width: 64%;
$content_min_width: 360px;
$pad_content_width: 89%;

$c_nav_height: 54px;
$c_hero_sec_height: 320px;
$pad_c_hero_sec_height: 280px;
$footer_height: 104px;

$breakpoint_pad: 1285px;

@mixin flex($justify: normal, $align: normal, $contentOpt: false) {
    display: flex;
    justify-content: $justify;

    @if $contentOpt {
        align-content: $align;
    } @else {
        align-items: $align;
    }

}
@mixin border($color: black, $width: 1px, $style: solid) {
    border-color: $color;
    border-width: $width;
    border-style: $style;
}

@mixin vw_1785px {
    @media (max-width: 1785px) {
      @content;
    }
}

@mixin pad {
    @media (max-width: $breakpoint_pad) {
      @content;
    }
}

@mixin vw_960px {
    @media (max-width: 960px) {
      @content;
    }
}

@mixin mobile {
    @media screen and (max-width: 630px) {
        @content;
    }
}

/* Global */

body {
    min-width: $content_min_width;
    @include elsize(100vw, 100vh)
}

/* Global: Border-box */
html {
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
            box-sizing: border-box;
}

*,
*::before,
*::after {
    -webkit-box-sizing: inherit;
        -moz-box-sizing: inherit;
            box-sizing: inherit;
}

/* Typography */

.bold {
    font-weight: bold !important;
}

h1 {
    /* Slogan Title */
    margin: 0;
    @extend %f_stack;
    @include f_setLine(28px, 64px);
    font-weight: bold;
}

h2 {
    /* Header */
    margin: 0;
    @extend %f_stack;
    @include f_setLine(30px, 34px);
    font-weight: bold;
}

h3 {
    /* Dialog Title */
    margin: 0;
    @extend %f_stack;
    @include f_setLine(24px, 24px);
    font-weight: bold;

}

p {
    margin: 0;
}

button {
    /* Button */
    @extend %f_stack;
    @include f_setLine(19px, 16px);
    font-weight: bold;
}

.content {
    /* <p>: Content */
    @extend %f_stack;
    @include f_setLine(16px, 23px);
    font-weight: normal;
}

.body {
    /* <p>: Body */
    @extend %f_stack;
    @include f_setLine(16px, 21px);
    font-weight: normal;
}

/* Component */

.c_nav {
    @include elsize(100vw, $c_nav_height);
    @include flex(center, center);
    background: white;
    position: fixed;
    top: 0;
    z-index: 1;

    > nav {
        @include elsize($content_width, 100%);
        @include vw_1785px {
            @include elsize($pad_content_width, 100%);
        }
        // min-width: $content_min_width;

        @include flex(flex-end, center);
        position: relative;
        
        > * {
            display: inline;
            color: $gray_800;
            border: none;
        }

        > button {
            background-color: white;
        }

        > :focus {
            outline: none;
        }

        > :not(:first-child) {
            padding: 10px;        
        }

        > :first-child {
            color: $cyan_800;
            position: absolute;
            left: 0px;
        }
    }
}

.c_hero_sec {
    @include elsize(100vw, $c_hero_sec_height);
    @include pad {
        @include elsize(100vw, $pad_c_hero_sec_height);
    }

    background: linear-gradient(135deg, $cyan_100 0%, $cyan_700 100%);
    position: relative;
    z-index: 0;
    overflow: hidden;
    margin-top: $c_nav_height;
    
    > img {
        position: absolute;
        bottom: 0;
        right: 232px;
        z-index: 1;
        mix-blend-mode: normal;

        @include pad {
            @include elsize(276px, 148px);
            right: -64px;
        };
    }

    > div {
        position: absolute;
        z-index: 2;
        top: 0;
        left: 0;
        right: 0;
        margin: 0 auto;
        @include elsize($content_width, 100%);
        @include vw_1785px {
            @include elsize($pad_content_width, 100%);
        }
        // min-width: $content_min_width;

        @include flex(flex-start, center);
        flex-wrap: wrap;

        > div {

            > h1 {
                // margin-bottom: 15px;
                color: $gray_50;
                text-shadow: #AABBCC, 0px, 0px, 30px;
            }

            > p.body {
                margin-bottom: 25px;
                color: $gray_50;
            }
        }
    }


}

form.c_search {
    @include elsize(460px, 46px);
    @include mobile {
        @include elsize(calc(#{$cst_100vw} * 0.64), 46px);
    }
    position: relative;
    // @include border;

    $button_width: 60px;
    $radius: 6px;

    :focus {
        outline: none;
    }

    input {
        border-radius: $radius 0 0 $radius;
        position: absolute;
        background-color: white;
        @include elsize(calc(100% - #{$button_width}), 100%);

        border: none;
        padding: 15px;
    }

    button {
        background-color: $cyan_800;
        background-image: url(images/icons/icon_search.svg);
        background-size: 30px 30px;
        background-position: center;
        background-repeat: no-repeat;

        border-radius: 0 $radius $radius 0;
        position: absolute;
        right: 0px;
        @include elsize($button_width, 100%);

        border: none;
    }
}

main {
    @include elsize(100vw);
    min-height: calc(100vh - #{$c_nav_height} - #{$c_hero_sec_height} - #{$footer_height} + 1px);
    @include pad {
        min-height: calc(100vh - #{$c_nav_height} - #{$pad_c_hero_sec_height} - #{$footer_height} + 1px);
    }

    > section.c_scrlSec {
        $scrlUnit_width: 270px;
        $mobile_scrlUnit_width: 322px;
        $scrlUnit_margin: 20px;
        $scrlUnit_border: 1px;

        @include elsize($content_width);
        @include vw_1785px {
            @include elsize($pad_content_width);
        }
        // min-width: $content_min_width;

        margin: 0 auto;
        @include flex(flex-start, flex-start);
        flex-wrap: wrap;
        @include mobile {
            @include flex(center);
            flex-wrap: wrap;
        }

        max-width: calc((#{$scrlUnit_width} * 4) + (#{$scrlUnit_margin} * 3) + (#{$scrlUnit_border} * 8));
        @include pad {
            max-width: calc((#{$scrlUnit_width} * 3) + (#{$scrlUnit_margin} * 2) + (#{$scrlUnit_border} * 6));
        }
        @include vw_960px {
            max-width: calc((#{$scrlUnit_width} * 2) + (#{$scrlUnit_margin} * 1) + (#{$scrlUnit_border} * 4));
        }

        margin-bottom: 55px;

        // 顯示每行scrlUnit之個數

        > :not(:nth-of-type(4n+1)) {
            @media screen and (min-width: calc(#{$breakpoint_pad} + 1px)) {
                margin-left: $scrlUnit_margin;
            }
        }

        > :not(:nth-of-type(3n+1)) {
            @include pad {
                margin-left: $scrlUnit_margin;
            }
            @include vw_960px {
                margin-left: 0;
            }
        }

        > :nth-of-type(even) {
            @include vw_960px {
                margin-left: $scrlUnit_margin;
            }
        }

        > :nth-of-type(n) {
            @include mobile {
                margin-left: 0;
            }
        }

        //

        > div.c_scrlUnit {
            $scrlUnit_height: 242px;
            $mobile_scrlUnit_height: 280px;

            @include elsize($scrlUnit_width, $scrlUnit_height);
            @include mobile {
                @include elsize($mobile_scrlUnit_width, $mobile_scrlUnit_height);
            }

            position: relative;
            @include border(#E8E8E8, $scrlUnit_border);
            overflow: hidden;
            margin-top: 30px;

            $scrlUnit_img_width: calc(#{$scrlUnit_width} - (#{$scrlUnit_border} * 2));
            $mobile_scrlUnit_img_width: calc(#{$mobile_scrlUnit_width} - (#{$scrlUnit_border} * 2));
            $scrlUnit_img_height: 160px;
            $mobile_scrlUnit_img_height: 200px;

            > figure {
                // img part

                @include elsize($scrlUnit_img_width, $scrlUnit_img_height);
                @include mobile {
                    @include elsize($mobile_scrlUnit_img_width, $mobile_scrlUnit_img_height);
                }
                margin: 0;
                display: block;
                overflow: hidden;
                position: relative;

                > img {
                    @include elsize(100%);
                    @include mobile {
                        @include elsize(math.percentage( $mobile_scrlUnit_width / $scrlUnit_width ));
                    }

                    object-fit: cover;
                    object-position: center center;
                    position: relative;
                    z-index: -1;
                }
            }

            > figcaption {
                // text part
                $figcap_hoz_margin: 10px;
                margin: 0px $figcap_hoz_margin;
                color: $gray_700;
                @include elsize(auto, calc(#{$scrlUnit_height} - #{$scrlUnit_img_height}));
                @include mobile {
                    @include elsize(auto, calc(#{$mobile_scrlUnit_height} - #{$mobile_scrlUnit_img_height}));
                }

                > p {
                    // line 1
                    position: relative;
                    top: 12px;
                }

                > div {
                    // line 2
                    @include elsize(calc(100% - (#{$figcap_hoz_margin} * 2)));
                    position: absolute;
                    bottom: 0;
                    margin-bottom: 12px;
                    // @include flex(flex-start);

                    > * {
                        display: inline-block;
                        margin-bottom: 0;
                    }

                    > :last-child {
                        position: absolute;
                        right: 0px;
                    }
                }
            }
        }

        > p.c_noScrlUnitMessage {
            @include elsize(100%, 200px);
            @include flex(center, center);
            color: $gray_700;
        }
    }

}

footer {
    @include elsize(100vw, $footer_height);
    background-color: $gray_700;
    @include flex(center, center);
    // position: absolute;
    // bottom: 0;

    > .body {
        color: white;
    }
}